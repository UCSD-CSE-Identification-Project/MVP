<div>
  <div class="title">
    <h2 style="color: white">Classify Questions</h2>
    <button mat-raised-button (click)="openDialog()">Guide for this Page</button>
    <button mat-raised-button class="logoutButton" (click)="logout()">Save & Logout</button>
  </div>
  <br>
  <br>
  <div style="margin-top: 7vw"><!--change this-->
    <h3 style="padding: 1%" *ngIf="!prevTermGrouping.needGrouping">
      <mat-card class="info">
        Finished previous term grouping
      </mat-card>
    </h3>
    <h3 style="padding: 1%" *ngIf="!currTermGrouping.needGrouping && !prevTermGrouping.needGrouping">
      <mat-card class="info">
        Finished current term grouping
      </mat-card>
    </h3>
  </div>
  <div *ngIf="prevTermGrouping.needGrouping || currTermGrouping.needGrouping && !prevTermGrouping.needGrouping">
    <div style="margin-top: 2vw; padding-left: 10px"><!--???????-->
      <h2>Term: {{termName}}</h2>
      <h2 *ngIf="prevTermGrouping.needGrouping">Lecture {{lectureNum + 1}} out of {{prevNumLectures}}: {{lectureName}}</h2>
      <h2 *ngIf="!prevTermGrouping.needGrouping && currTermGrouping.needGrouping">Lecture {{lectureNum + 1}} out of {{currNumLectures}}: {{lectureName}}</h2>
    </div>
    <br>
    <br>
    <div *ngIf="!finishedCurrentTerm" style="float: right;">
      <nav>
        <button class="nextLectureButton" mat-raised-button (click)="nextLecture()">Next Lecture</button>
      </nav>
    </div>

    <br>
    <br>
    <div class="row">
      <!-- put virtual scroll here -->
      <div *ngIf="lenOfVirtualScroll > 0" class="cdk-virtual-scroll-data-source-example">
        <cdk-virtual-scroll-viewport orientation="horizontal" itemSize="100" minBufferPx="20000" maxBufferPx="40000" class="example-viewport">
          <div *cdkVirtualFor="let box of lectureOnScreenBoxList; let i = index;" class="example-item">
            <h5>Question {{i + 1}}</h5>
            <img src="{{( box.imageSourceURL | async )?.data().downloadURL}}" width="500px"/>
            <form [formGroup]="box.boxVal">
              <div><h4>Classification of this Question</h4></div>
              <div *ngFor="let data of boxValues;">
                <input type="radio" formControlName="option" value="{{data.opt}}" (click)="toggleRestBoxes(i + 1)"> {{data.opt}}<br>
              </div>
              <div *ngIf="box.boxVal.controls.option.value === 'Group'">
                <input type="checkbox" formControlName="box"> This is a Group vote without a preceding Individual vote
              </div>
            </form>
          </div>
        </cdk-virtual-scroll-viewport>
      </div>
    </div>
  </div>
</div>

<div style="text-align: right">
  <!--<div style="display:inline-block">
    <button mat-raised-button class="activeButton" *ngIf="!prevTermGrouping.termFinishedAnswering" [disabled]="!allChecked('prev')" (click)="nextImage('prev')"> Next</button>
    <button mat-raised-button class="activeButton" *ngIf="prevTermGrouping.termFinishedAnswering" [disabled]="!allChecked('curr') || imagesFinished" (click)="nextImage('curr')"> Next</button>
  </div>
  &nbsp;-->
  <div *ngIf="!imagesFinished && finishedCurrentTerm"> Updating grouping data of each image in the database </div>
  <div style="display:inline-block">
    <button mat-raised-button class="finishButton" *ngIf="imagesFinished" routerLink="/navigator/classify" (click)="storeSession()">Finish</button>
  </div>

</div>


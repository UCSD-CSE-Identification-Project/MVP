<div class="container">
  <h2> Classify Questions</h2>
  <div *ngIf="valuesInitialized">
    <div class="row">
      <div class="col-lg-4" *ngIf="imageIndex<numImages">
        <h2> Question {{imageIndex+1}}</h2>
        <img src="{{(imageSources[1] | async)?.data().downloadURL}}" width="300px" />
        <form [formGroup]="boxOne">
          <div *ngFor="let data of boxValues">
            <input type="radio" formControlName="option" value="{{data.opt}}" [attr.disabled]="disableBoxOne || null"
                   (click)="updateChecked(1)"> {{data.opt}}<br>
          </div>
        </form>
      </div>

      <div class="col-lg-4" *ngIf="imageIndex+1<numImages">
        <h2> Question {{imageIndex+2}}</h2>
        <img src="{{(imageSources[1] | async)?.data().downloadURL}}" width="300px" />
        <form [formGroup]="boxTwo">
          <div *ngFor="let data of boxValues">
            <input type="radio" formControlName="option" value="{{data.opt}}" [attr.disabled]="disableBoxTwo || null"
                   (click)="updateChecked(2)"> {{data.opt}}<br>
          </div>
        </form>
      </div>

      <div class="col-lg-4" *ngIf="imageIndex+2<numImages">
        <h2> Question {{imageIndex+3}}</h2>
        <img src="{{(imageSources[2]| async)?.data().downloadURL}}" width="300px" />
        <form [formGroup]="boxThree">
          <div *ngFor="let data of boxValues">
            <input type="radio" formControlName="option" value="{{data.opt}}" (click)="updateChecked(3)"> {{data.opt}}<br>
          </div>
        </form>
      </div>

    </div>



  </div>
</div>

<div style="text-align: right">
  <div style="display:inline-block">
    <button [disabled]="!allChecked() || imagesFinished" (click)="nextImage()"> Next</button>
  </div>
  &nbsp;
  <div style="display:inline-block">
    <button *ngIf="imagesFinished" routerLink="/navigator/classify">Finish</button>
  </div>

</div>

<div>boxOne: {{this.boxOneRadioClicked}} <br>
  boxTwo: {{this.boxTwoRadioClicked}}  <br>
  boxThree: {{this.boxThreeRadioClicked}} <br>
  TwoHidden: {{this.imageIndex+2 >= numImages}} <br>
  ThreeHidden: {{this.imageIndex+3 >= numImages}}  <br>
  imagesFinished: {{imagesFinished}}
</div>

<pre>Form values: {{allGroupedAnswers.value | json}}</pre>


<div>
  <div class="title">
    <h2 style="color: white">Choose Correct Answers</h2>
    <button mat-raised-button class="logoutButton" (click)="logout()">Save & Logout</button>
  </div>

  <br>
  <br>
  <br>

  <div class="row">
    <h2 style="padding: 1%" *ngIf="!prevTermAnswerObj.needGrouping">
      <mat-card class="info">
        Finished Choosing for {{this.generalInfo.prevTermName}}
      </mat-card>
    </h2>
    <div *ngIf="prevTermAnswerObj.needGrouping">
      <div class="col-lg-6">
        <h2>Choose Answer for {{this.generalInfo.prevTermName}}</h2>
        <h3>Question {{this.prevTermAnswerObj.imageIndex + 1}} out of {{totalPrevImages}}</h3>
        <img src="{{(boxOnScreen.imageSourceURL | async)?.data().downloadURL}}" width="100%"/>
      </div>
      <div class="col-lg-6">
        <h3>Correct Answer</h3>
        <form [formGroup]="boxOnScreen.boxAnswer">
          <div *ngFor="let data of boxValues">
            <mat-checkbox name="multipleChoice" color="warn" (change)="boxChecked($event.checked)" formControlName="{{data.opt[0]}}" required>{{data.opt}}</mat-checkbox><br>
          </div>
        </form>
        <button mat-raised-button class="activeButton" [disabled]="boxOnScreen.numBoxesChecked <= 0" (click)="nextImage('prev')"> Next</button>
      </div>

    </div>
  </div>



  <div class="row">
    <h2 style="padding: 1%" *ngIf="!currTermAnswerObj.needGrouping && !prevTermAnswerObj.needGrouping">
      <mat-card class="info">
        Finished Choosing for {{this.generalInfo.currTermName}}
      </mat-card>
    </h2>
    <div *ngIf="currTermAnswerObj.needGrouping  && !prevTermAnswerObj.needGrouping">
      <div class="col-lg-6">
        <h2>Choose Answer for {{this.generalInfo.currTermName}}</h2>
        <h3>Question {{this.currTermAnswerObj.imageIndex + 1}} out of {{totalCurrImages}}</h3>
        <img src="{{(boxOnScreen.imageSourceURL | async)?.data().downloadURL}}" width="100%"/>
      </div>
      <div class="col-lg-6">
        <h3>Correct Answer</h3>
        <form [formGroup]="boxOnScreen.boxAnswer">
          <div *ngFor="let data of boxValues">
            <mat-checkbox name="multipleChoice" color="warn" (change)="boxChecked($event.checked)" formControlName="{{data.opt[0]}}" required>{{data.opt}}</mat-checkbox><br>
          </div>
        </form>
        <button mat-raised-button class="activeButton" *ngIf="prevTermAnswerObj.termFinishedAnswering" [disabled]="imagesFinished || boxOnScreen.numBoxesChecked <= 0" (click)="nextImage('curr')"> Next</button>
      </div>
    </div>

    <div style="text-align: center;">
      <button mat-raised-button class="finishButton" *ngIf="imagesFinished" routerLink="../navigator/choose-ans" (click)="storeSession()"> Finish </button>
    </div>

    <!--<div>
      <div style="display:inline-block; padding-right: 10px">
        <button mat-raised-button class="activeButton" *ngIf="!prevTermAnswerObj.termFinishedAnswering" [disabled]="boxOnScreen.numBoxesChecked <= 0" (click)="nextImage('prev')"> Next</button>
        <button mat-raised-button class="activeButton" *ngIf= "prevTermAnswerObj.termFinishedAnswering" [disabled]="imagesFinished || boxOnScreen.numBoxesChecked <= 0" (click)="nextImage('curr')"> Next</button>
      </div>
      <div style="display:inline-block">
        <button mat-raised-button class="finishButton" *ngIf="imagesFinished" routerLink="../navigator/choose-ans"> Finish </button>
      </div>
    </div>-->
</div>

<!--<div>
  imageFinishedGrouping: {{currTermAnswerObj.termFinishedAnswering}}
  boxVal: {{boxOnScreen.boxAnswer.value | json }}
</div>-->


